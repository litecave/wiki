
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.4">
    
    
      
        <title>NAND Bad Blocks - Free60 Wiki archive</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#what-is-a-block" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Free60 Wiki archive" class="md-header__button md-logo" aria-label="Free60 Wiki archive" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Free60 Wiki archive
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              NAND Bad Blocks
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Free60 Wiki archive" class="md-nav__button md-logo" aria-label="Free60 Wiki archive" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Free60 Wiki archive
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Category_Xbox360_Hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Category_Xbox360_System_Software/" class="md-nav__link">
        System Software
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Category_Xbox360_Homebrew_Software/" class="md-nav__link">
        Homebrew Software
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Category_Xbox360_Linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Category_Xbox360_Development/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Category_Support/" class="md-nav__link">
        Support
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../%21TODO/" class="md-nav__link">
        ToDo
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-block" class="md-nav__link">
    What is a BLOCK?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-a-bad-block" class="md-nav__link">
    What is a BAD BLOCK?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-determine-bad-blocks" class="md-nav__link">
    How to determine BAD BLOCKS?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-happens-when-a-bad-block-develops" class="md-nav__link">
    What happens when a BAD BLOCK develops?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-does-the-reserve-block-method-work" class="md-nav__link">
    How does the Reserve Block Method work?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xbox-16mb-nand-block-management" class="md-nav__link">
    XBOX 16MB NAND BLOCK Management
  </a>
  
    <nav class="md-nav" aria-label="XBOX 16MB NAND BLOCK Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-i-read-my-nand-i-have-badblocks-where-is-that-data-stored" class="md-nav__link">
    When I read my nand I have Badblocks where is that data stored?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-would-i-remap-the-badblocks-in-the-diagram-with-nandpro" class="md-nav__link">
    How would I remap the BadBlocks in the diagram with nandpro?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-using-xellous-to-flash-do-i-need-to-remap-badblocks" class="md-nav__link">
    If using XeLLous to flash do I need to remap Badblocks?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-free60-version" class="md-nav__link">
    I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (free60 version).
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-rgh-team-xecuter-dgx-version" class="md-nav__link">
    I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (RGH / Team-Xecuter DGX version).
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xbox-256512mb-nand-block-management" class="md-nav__link">
    XBOX 256/512MB NAND BLOCK Management
  </a>
  
    <nav class="md-nav" aria-label="XBOX 256/512MB NAND BLOCK Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-256512-mb-memory-map-and-nandpros-translation" class="md-nav__link">
    Understanding 256/512 MB memory map, and Nandpro’s translation:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-i-read-my-nand-i-have-badblocks-where-is-that-data-stored_1" class="md-nav__link">
    When I read my nand I have Badblocks where is that data stored?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-would-i-remap-the-badblocks-in-the-diagram-with-nandpro_1" class="md-nav__link">
    How would I remap the BadBlocks in the diagram with nandpro?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-using-xellous-to-flash-do-i-need-to-remap-badblocks_1" class="md-nav__link">
    If using XeLLous to flash do I need to remap Badblocks?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-free60-version_1" class="md-nav__link">
    I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (free60 version).
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-rgh-team-xecuter-dgx-version_1" class="md-nav__link">
    I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (RGH / Team-Xecuter DGX version).
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>NAND Bad Blocks</h1>
                
                <h2 id="what-is-a-block">What is a BLOCK?</h2>
<p>A block is the smallest logically addressable unit of data that a
specified device can transfer in an input/output operation. For XBOX
360s that is either 16KB or 128KB.</p>
<h2 id="what-is-a-bad-block">What is a BAD BLOCK?</h2>
<p>Bad Blocks are blocks that contain one or more invalid bits whose
reliability is not guaranteed. Bad Blocks may be present when the device
is shipped, or may develop during the lifetime of the device.</p>
<h2 id="how-to-determine-bad-blocks">How to determine BAD BLOCKS?</h2>
<p>In one block there are n Pages, all have a fixed size of 528 Bytes
(nomatter if the Block is 16K or 128K). Every Page has 16 Byte big ECC
data at its end. The block itself does not have ECC data, only the pages
have! In theory the whole block gets filled with zeros if its bad,
practicly it's not like that. So, if the first 12 Bytes of the page's
ECC data is nulled, the page is marked bad, so the whole block is
aswell. The remaining 4 Bytes of the ECC is the CRC Data. If the first
12 Bytes of ECC is 0xFF the page has no data (empty, but NOT faulty) and
if it hold anything else than 0x00 or 0xFF then the page is filled with
data.</p>
<h2 id="what-happens-when-a-bad-block-develops">What happens when a BAD BLOCK develops?</h2>
<p>There are two methods to replace the block.</p>
<ul>
<li>
<ol>
<li>Skip Block Method</li>
</ol>
</li>
<li>
<ol>
<li>Reserve Block Method</li>
</ol>
</li>
</ul>
<h2 id="how-does-the-reserve-block-method-work">How does the Reserve Block Method work?</h2>
<p>Blocks are not skipped but rather they are re-directed to a Reserved
Block Area used specifically for Bad Block replacement. The Reserved
Block Area also stores/saves the Bad Block Table that keeps track of the
re-mapped “developed Bad Blocks”. Which method does the XBOX employ?</p>
<p>Short answer both. In 16MB nands the XBOX exclusively uses the Reserve
Block Method, while in 256MB or 512MB nands it uses both. The MU area of
the nand uses the Skip Block Method, while the area where the dash and
kernel are stored uses the Reserve Block Method.</p>
<h2 id="xbox-16mb-nand-block-management">XBOX 16MB NAND BLOCK Management</h2>
<p><img alt="&lt;File:16MB.png&gt;" src="../images/16MB.png" /></p>
<p>If you noticed in the memory table above any Badblocks encountered are
consecutively moved to the Reserved BadBlock Area. The first Bad
Block(0x168) is moved to Block 0x3FF in the reserved area, the
next(0x1F6) is moved to 0X3FE, and it continues until all Bad Blocks
have been remapped.</p>
<h3 id="when-i-read-my-nand-i-have-badblocks-where-is-that-data-stored">When I read my nand I have Badblocks where is that data stored?</h3>
<p>When reading your nand any Badblocks would have already been remapped to
the reserve area. This is important to keep in mind, specifically when
you encounter Badblocks where crucial data is kept such as blocks
0x001(Key Vault), 0x3DE(First Config Block), and 0x3DF(Second Config
Block).</p>
<h3 id="how-would-i-remap-the-badblocks-in-the-diagram-with-nandpro">How would I remap the BadBlocks in the diagram with nandpro?</h3>
<p>Assuming your attempting to flash the latest release of XBReboot named
as ‘xbr.bin’. And have made a full-backup and have already injected your
Key Vault and Configuration Blocks into ‘xbr.bin’. The commands would be
as follow:</p>
<pre><code>nandpro xbr.bin: -r16 badblock168.bin 168 1
nandpro xbr.bin: -w16 badblock168.bin 3FF 1
nandpro xbr.bin: -r16 badblock1F6.bin 1F6 1
nandpro xbr.bin: -w16 badblock1F6.bin 3FE 1
nandpro xbr.bin: -r16 badblock23A.bin 23A 1
nandpro xbr.bin: -w16 badblock23A.bin 3FD 1
nandpro xbr.bin: -r16 badblock308.bin 308 1
nandpro xbr.bin: -w16 badblock308.bin 3FC 1
</code></pre>
<h3 id="if-using-xellous-to-flash-do-i-need-to-remap-badblocks">If using XeLLous to flash do I need to remap Badblocks?</h3>
<p>According to the XeLLous release notes no, it is suppose to be one of
the main features of the update. That is not to say bugs might not be
encountered. If you encounter suspicious issues, and believe it might be
related to a bad flash, then I recommend flashing manually with nandpro
or using trancy’s XBR-Flash for
Linux.</p>
<h3 id="i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-free60-version">I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (free60 version).</h3>
<p>First of all ensure your using the free60 version of Xell. Next you will
need to backup the location of the remapped BadBlocks like so (Remeber
your first Badblock always goes to 3FF, and each following Badblock gets
remapped as illustrated in the diagram):</p>
<p><code>nandpro lpt: -r16 backup3FF.bin 3FF 1</code></p>
<p>Assuming your first Badblock was at 0x010, you will need to remap the
free60 Xell data that was intended to be stored in that block. Like
this.</p>
<p><code>nandpro xell.bin: -r16 xell10.bin 10 1</code>
<code>nandpro lpt: -w16 xell10.bin 3FF 1</code></p>
<p>Lastly the bad block needs to erased to prevent any corruption:</p>
<p><code>nandpro lpt: -e16 10 1</code></p>
<p>(EDIT: The bad block may not need to be erased. If the CRC in the ECC
data doesn't match that of the page, the SMC will deem it a bad block
anyway and then look to the spare area for a relocated
block.)</p>
<h3 id="i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-rgh-team-xecuter-dgx-version">I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (RGH / Team-Xecuter DGX version).</h3>
<p>XeLL for RGH/DGX is written with +w16 ('+' to signify the recreation of
ECC data) so you cannot simply -r16 from image_00000000.ecc (or
DGX.ecc) as it's not seen by NANDPro as a valid VNAND.</p>
<p>Therefore, the following steps must be carried out:</p>
<p>Assuming your first Badblock was at 0x010,</p>
<ol>
<li>Make a copy of your original NAND</li>
</ol>
<p><code>copy nanddump.bin tempnand.bin</code></p>
<ol>
<li>Write the ECC to your NAND as per normal:</li>
</ol>
<p><code>nandpro [LPT|USB]: +w16 image_00000000.ecc.</code></p>
<p>At this point you should confirm that you get an 'error xxx writing to
xxx' message. This is perfectly normal.</p>
<ol>
<li>Write the ECC to tempnand.bin using NANDPro:</li>
</ol>
<p><code>nandpro tempnand.bin: +w16 image_00000000.ecc</code></p>
<ol>
<li>Read block 0x010 from your newly written-to VNAND:</li>
</ol>
<p><code>nandpro tempnand.bin: -r16 010.bin 10 1</code></p>
<p>5. Write the block to the same place in the spare area as the original
relocated bad block. If this is the first bad block, it should be 0x3FF
but check using 360 Flash Dump Tool, xNANDHealer, J-Runner etc to ensure
this is the case.</p>
<p><code>nandpro [LPT|USB]: -w16 010.bin 3FF</code></p>
<p>Lastly the bad block needs to erased to prevent any corruption:</p>
<p><code>nandpro lpt: -e16 10 1</code></p>
<p>(EDIT: The bad block may not need to be erased. If the CRC in the ECC
data doesn't match that of the page, the SMC will deem it a bad block
anyway and then look to the spare area for a relocated block.)</p>
<p>--<a href="User:Xb0xGuru">Xb0xGuru</a> 15:19, 24 February 2013 (UTC)</p>
<h2 id="xbox-256512mb-nand-block-management">XBOX 256/512MB NAND BLOCK Management</h2>
<p><img alt="&lt;File:256-512MB.png&gt;" src="256-512MB.png" title="File:256-512MB.png" /></p>
<h3 id="understanding-256512-mb-memory-map-and-nandpros-translation">Understanding 256/512 MB memory map, and Nandpro’s translation:</h3>
<p>The block size in 256/512 Nands is 132 KB (135168 Bytes). This is a
little different then how Nandpro references and addresses blocks. No
matter the Block size of your nand nandpro uses a block size of 16 KB
that means that for every Badblock in the 256/512 MB nandpro will report
8 consecutive errors.</p>
<p>If you noticed in the memory table above any Badblocks encountered are
consecutively moved to the Reserved BadBlock Area. The first Badblock
(0x0F8) is moved to Block 0xFF8 (16 KB) or Block 0x1FF (132 KB) in the
reserved area, any consecutive Badblocks would of been moved to blocks
0xFF0 (16 KB) or Block 0x1FE (132 KB) and so forth.</p>
<h3 id="when-i-read-my-nand-i-have-badblocks-where-is-that-data-stored_1">When I read my nand I have Badblocks where is that data stored?</h3>
<p>When reading your nand any Badblocks would have already been remapped to
the reserve area. This is important to keep in mind, specifically when
you encounter Badblocks where crucial data is kept such as blocks
0x001(Key Vault), 0xEF7(Config Block),.</p>
<h3 id="how-would-i-remap-the-badblocks-in-the-diagram-with-nandpro_1">How would I remap the BadBlocks in the diagram with nandpro?</h3>
<p>Assuming your attempting to flash the latest release of XBReboot named
as ‘xbr.bin’. And have made a full-backup and have already injected your
Key Vault and Configuration Blocks into ‘xbr.bin’. The commands would be
as follow:</p>
<p><code>nandpro xbr.bin: -r16 badblockF8.bin F8 8</code>
<code>nandpro xbr.bin: -w16 badblockF8.bin FF8 8</code></p>
<p>Is 8 correct? Yes remember nandpro reference blocks in sizes of 16 KB,
but 256/512 MB have a block size of 132 KB. 132/16 is equal to 8, that
why you need to use 8.</p>
<h3 id="if-using-xellous-to-flash-do-i-need-to-remap-badblocks_1">If using XeLLous to flash do I need to remap Badblocks?</h3>
<p>According to the XeLLous release notes no, it is suppose to be one of
the main features of the update. That is not to say bugs might not be
encountered. If you encounter suspicious issues, and believe it might be
related to a bad flash, then I recommend flashing manually with nandpro
or using trancy’s XBR-Flash for
Linux.</p>
<h3 id="i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-free60-version_1">I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (free60 version).</h3>
<p>First of all ensure your using the free60 version of Xell. Next you will
need to backup the location of the remapped BadBlocks like so (Remeber
your first Badblock always goes to 0xFF8, and each following Badblock
gets remapped to the spare):</p>
<p><code>nandpro lpt: -r256 backupFF8.bin FF8 8</code></p>
<p>Assuming your first Badblock was at 0x010 followed by seven more errors,
you will need to remap the free60 Xell data that was intended to be
stored in that block. Like this.</p>
<p><code>nandpro xell.bin: -r16 xell10.bin 10 8</code>
<code>nandpro lpt: -w16 xell10.bin FF8 8</code></p>
<p>Lastly the bad block needs to erased to prevent any corruption:</p>
<p><code>nandpro lpt: -e16 10 1</code></p>
<p>(EDIT: The bad block may not need to be erased. If the CRC in the ECC
data doesn't match that of the page, the SMC will deem it a bad block
anyway and then look to the spare area for a relocated
block.)</p>
<h3 id="i-have-a-badblock-between-blocks-0x000-and-0x050-and-cant-boot-into-xell-rgh-team-xecuter-dgx-version_1">I have a Badblock between blocks 0x000 and 0x050, and can’t boot into Xell (RGH / Team-Xecuter DGX version).</h3>
<p>XeLL for RGH/DGX is written with +w16 ('+' to signify the recreation of
ECC data) so you cannot simply -r16 from image_00000000.ecc (or
DGX.ecc) as it's not seen by NANDPro as a valid VNAND.</p>
<p>Therefore, the following steps must be carried out:</p>
<p>Assuming your first Badblock was at 0x010,</p>
<p>1. Make a copy of your original NAND</p>
<p><code>copy nanddump.bin tempnand.bin</code></p>
<p>2. Write the ECC to your NAND as per normal:</p>
<p><code>nandpro [LPT|USB]: +w16 image_00000000.ecc</code></p>
<p>At this point you should confirm that you get an 'error xxx writing to
xxx' message. This is perfectly normal.</p>
<p>3. Write the ECC to tempnand.bin using NANDPro:</p>
<p><code>nandpro tempnand.bin: +w16 image_00000000.ecc</code></p>
<p>4. Read block 0x010 from your newly written-to VNAND:</p>
<p><code>nandpro tempnand.bin: -r16 010.bin 10 8</code></p>
<p>5. Write the block to the same place in the spare area as the original
relocated bad block. If this is the first bad block, it should be 0x3FF
but check using 360 Flash Dump Tool, xNANDHealer, J-Runner etc to ensure
this is the case.</p>
<p><code>nandpro [LPT|USB]: -w16 010.bin FF8</code></p>
<p>Lastly the bad block needs to erased to prevent any corruption:</p>
<p><code>nandpro lpt: -e16 10 8</code></p>
<p>(EDIT: The bad block may not need to be erased. If the CRC in the ECC
data doesn't match that of the page, the SMC will deem it a bad block
anyway and then look to the spare area for a relocated block.)</p>
<p>--<a href="User:Xb0xGuru" title="wikilink">Xb0xGuru</a> 15:19, 24 February 2013 (UTC)</p>
<p>Source:
<a href="https://web.archive.org/web/20100713001647/https://docs.google.com/View?id=dnfmv5h_23gw47ddgs">google-docs</a> (archive.org mirror) &amp;
<a href="http://www.xboxhacker.org/index.php?topic=13618.0">XBH, posted by trancy</a></p>
<p><a href="../Category_Xbox360_Hardware">Category:Xbox360_Hardware</a>
<a href="../Category_Xbox360_System_Software">Category:Xbox360 System Software</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.febc23d1.min.js"></script>
      
    
  </body>
</html>